<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SatÄ±nalma CoPilot - AI Destekli WhatsApp AsistanÄ±</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <span class="logo">ğŸ¤–</span>
                <span class="brand-text">SatÄ±nalma CoPilot</span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        WhatsApp'tan <span class="highlight">AI Destekli</span><br>
                        SatÄ±nalma AsistanÄ±nÄ±z
                    </h1>
                    <p class="hero-subtitle">
                        TedarikÃ§i bul, RFQ oluÅŸtur, risk analizi yap, fiyat araÅŸtÄ±r. 
                        TÃ¼m satÄ±nalma sÃ¼reÃ§lerinizi WhatsApp'tan 7/24 yÃ¶netin.
                    </p>
                    <div class="hero-features">
                        <div class="feature-pill">âœ… RFQ OluÅŸturma</div>
                        <div class="feature-pill">âœ… TedarikÃ§i Bulma</div>
                        <div class="feature-pill">âœ… Risk Analizi</div>
                        <div class="feature-pill">âœ… Pazar AraÅŸtÄ±rmasÄ±</div>
                    </div>
                    <div class="cta-section">
                        <button class="cta-button" onclick="scrollToForm()">
                            ğŸš€ 14 GÃ¼n Ãœcretsiz BaÅŸla
                        </button>
                        <p class="cta-note">ğŸ’³ Kredi kartÄ± gerekmez â€¢ âš¡ 2 dakikada kurulum â€¢ ğŸ“± 1000 mesaj hediye</p>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="phone-mockup">
                        <div class="phone-screen">
                            <div class="chat-message user">
                                500 kg demir profil lazÄ±m, hangi firmalar gÃ¼venilir?
                            </div>
                            <div class="chat-message bot">
                                ğŸ” <strong>TEDARÄ°KÃ‡Ä° ARAMA SONUÃ‡LARI</strong><br><br>
                                ğŸ“ <strong>Konum:</strong> Ä°stanbul<br>
                                ğŸ“Š <strong>Bulunan:</strong> 5 tedarikÃ§i<br><br>
                                âœ… <strong>Ã–NERÄ°LEN FÄ°RMALAR:</strong><br>
                                1ï¸âƒ£ <strong>Marmara Metal A.Å.</strong><br>
                                â­ 4.8/5 | ğŸ“ +90 212 xxx xxxx
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h2 class="section-title">Neler Yapabilir?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“‹</div>
                    <h3>RFQ OluÅŸturma</h3>
                    <p>"500 kg demir profil lazÄ±m" deyin, profesyonel RFQ otomatik oluÅŸsun</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”</div>
                    <h3>TedarikÃ§i Bulma</h3>
                    <p>GÃ¼venilir tedarikÃ§ileri anlÄ±k bulun, iletiÅŸim bilgileri ve referanslarÄ±yla</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ›¡ï¸</div>
                    <h3>Risk Analizi</h3>
                    <p>FirmalarÄ±n gÃ¼venilirlik skorunu Ã¶ÄŸrenin, yatÄ±rÄ±m kararlarÄ± alÄ±n</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“Š</div>
                    <h3>Pazar AraÅŸtÄ±rmasÄ±</h3>
                    <p>GÃ¼ncel fiyat trendleri, pazar durumu ve rekabet analizleri</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸšš</div>
                    <h3>Teslimat Takibi</h3>
                    <p>SipariÅŸlerinizi takip edin, teslimat durumunu Ã¶ÄŸrenin</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ’°</div>
                    <h3>Ã–deme YÃ¶netimi</h3>
                    <p>Fatura durumlarÄ±, Ã¶deme takipleri ve finansal analizler</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Social Proof -->
    <section class="social-proof">
        <div class="container">
            <h2 class="section-title">SatÄ±nalma UzmanlarÄ± TarafÄ±ndan Tercih Ediliyor</h2>
            <div class="testimonials">
                <div class="testimonial">
                    <div class="testimonial-content">
                        "TedarikÃ§i bulma sÃ¼remiz 3 gÃ¼nden 10 dakikaya dÃ¼ÅŸtÃ¼. Ä°nanÄ±lmaz bir verimlilik artÄ±ÅŸÄ±."
                    </div>
                    <div class="testimonial-author">
                        <strong>Mehmet Kaya</strong> - SatÄ±nalma MÃ¼dÃ¼rÃ¼, ABC Sanayi
                    </div>
                </div>
                <div class="testimonial">
                    <div class="testimonial-content">
                        "Risk analizleri sayesinde hatalÄ± tedarikÃ§i seÃ§imlerinden kaÃ§Ä±nÄ±yoruz."
                    </div>
                    <div class="testimonial-author">
                        <strong>AyÅŸe Demir</strong> - Procurement Specialist, XYZ Holding
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Registration Form -->
    <section class="registration" id="registration">
        <div class="container">
            <div class="form-wrapper">
                <div class="form-header">
                    <h2>14 GÃ¼n Ãœcretsiz Denemeye BaÅŸla</h2>
                    <p>1000 mesaj hediye ile WhatsApp asistanÄ±nÄ±zla tanÄ±ÅŸÄ±n</p>
                </div>
                <form id="registrationForm" class="registration-form">
                    <div class="form-group">
                        <label for="name">Ad Soyad *</label>
                        <input type="text" id="name" name="name" required placeholder="Ã–rn: Ahmet YÄ±lmaz">
                    </div>
                    <div class="form-group">
                        <label for="email">E-posta *</label>
                        <input type="email" id="email" name="email" required placeholder="Ã–rn: ahmet@sirket.com">
                    </div>
                    <div class="form-group">
                        <label for="phone">WhatsApp NumarasÄ± *</label>
                        <input type="tel" id="phone" name="phone" required placeholder="Ã–rn: +90 555 123 45 67">
                    </div>
                    <div class="form-group">
                        <label for="company">Åirket AdÄ± *</label>
                        <input type="text" id="company" name="company" required placeholder="Ã–rn: ABC Sanayi Ltd. Åti.">
                    </div>
                    <div class="form-group">
                        <label for="position">Pozisyon</label>
                        <input type="text" id="position" name="position" placeholder="Ã–rn: SatÄ±nalma MÃ¼dÃ¼rÃ¼">
                    </div>
                    <button type="submit" class="submit-button">
                        <span class="button-text">ğŸš€ Ãœcretsiz Denemeyi BaÅŸlat</span>
                        <span class="loading-text" style="display: none;">â³ Kaydediliyor...</span>
                    </button>
                    <p class="form-note">
                        ğŸ’¡ KayÄ±t olduktan sonra WhatsApp numaramÄ±zÄ± size ileteceÄŸiz<br>
                        ğŸ”’ Bilgileriniz gÃ¼vende, spam gÃ¶ndermiyoruz<br>
                        ğŸ“± 1000 mesaj 14 gÃ¼n boyunca Ã¼cretsiz
                    </p>
                </form>
            </div>
        </div>
    </section>

    <!-- Pricing -->
    <section class="pricing">
        <div class="container">
            <h2 class="section-title">Åeffaf FiyatlandÄ±rma</h2>
            <p style="text-align: center; color: #64748b; margin-bottom: 40px; font-size: 1.1rem;">
                KullandÄ±ÄŸÄ±nÄ±z kadar Ã¶deyin. WhatsApp mesaj maliyetlerine dayalÄ± gerÃ§ekÃ§i planlar.
            </p>
            <div class="pricing-cards">
                <!-- Trial Plan -->
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Ãœcretsiz Deneme</h3>
                        <div class="price">â‚º0<span>/14 gÃ¼n</span></div>
                    </div>
                    <ul class="pricing-features">
                        <li>âœ… 1000 mesaj hakkÄ±</li>
                        <li>âœ… TÃ¼m temel Ã¶zellikler</li>
                        <li>âœ… RFQ oluÅŸturma</li>
                        <li>âœ… TedarikÃ§i bulma</li>
                        <li>âœ… Risk analizi</li>
                        <li>âœ… WhatsApp desteÄŸi</li>
                        <li>âœ… Kredi kartÄ± gerekmez</li>
                    </ul>
                </div>
                
                <!-- Basic Plan -->
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Basic</h3>
                        <div class="price">â‚º149<span>/ay</span></div>
                        <p style="color: #64748b; font-size: 0.9rem; margin: 8px 0;">500 mesaj dahil</p>
                    </div>
                    <ul class="pricing-features">
                        <li>âœ… 500 mesaj/ay</li>
                        <li>âœ… TÃ¼m temel Ã¶zellikler</li>
                        <li>âœ… Email desteÄŸi</li>
                        <li>âœ… Temel raporlama</li>
                        <li>ğŸ’° Ek mesaj: â‚º0,50/adet</li>
                    </ul>
                </div>
                
                <!-- Pro Plan - Featured -->
                <div class="pricing-card featured">
                    <div class="popular-badge">En PopÃ¼ler</div>
                    <div class="pricing-header">
                        <h3>Pro</h3>
                        <div class="price">â‚º349<span>/ay</span></div>
                        <p style="color: #64748b; font-size: 0.9rem; margin: 8px 0;">1500 mesaj dahil</p>
                    </div>
                    <ul class="pricing-features">
                        <li>âœ… 1500 mesaj/ay</li>
                        <li>âœ… TÃ¼m premium Ã¶zellikler</li>
                        <li>âœ… Ã–ncelikli destek</li>
                        <li>âœ… DetaylÄ± raporlar</li>
                        <li>âœ… API eriÅŸimi</li>
                        <li>âœ… Ã–zel entegrasyonlar</li>
                        <li>ğŸ’° Ek mesaj: â‚º0,40/adet</li>
                    </ul>
                </div>
                
                <!-- Enterprise Plan -->
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Enterprise</h3>
                        <div class="price">â‚º799<span>/ay</span></div>
                        <p style="color: #64748b; font-size: 0.9rem; margin: 8px 0;">5000 mesaj dahil</p>
                    </div>
                    <ul class="pricing-features">
                        <li>âœ… 5000 mesaj/ay</li>
                        <li>âœ… TÃ¼m Ã¶zellikler</li>
                        <li>âœ… 7/24 telefon desteÄŸi</li>
                        <li>âœ… Ã–zel AI modelleri</li>
                        <li>âœ… Ã‡oklu kullanÄ±cÄ±</li>
                        <li>âœ… SSO entegrasyonu</li>
                        <li>ğŸ’° Ek mesaj: â‚º0,30/adet</li>
                    </ul>
                </div>
            </div>
            
            <!-- Cost Breakdown -->
            <div style="background: #f8fafc; border-radius: 16px; padding: 30px; margin-top: 40px; text-align: center;">
                <h4 style="color: #1e293b; margin-bottom: 16px; font-size: 1.3rem;">ğŸ“Š Maliyet HesaplamasÄ±</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <h5 style="color: #2563eb; margin-bottom: 8px;">WhatsApp Mesaj</h5>
                        <div style="font-size: 1.5rem; font-weight: 700; color: #1e293b;">~â‚º0,40</div>
                        <p style="font-size: 0.8rem; color: #64748b; margin: 0;">Twilio + Meta Ãœcretleri</p>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <h5 style="color: #2563eb; margin-bottom: 8px;">AI Ä°ÅŸleme</h5>
                        <div style="font-size: 1.5rem; font-weight: 700; color: #1e293b;">~â‚º0,15</div>
                        <p style="font-size: 0.8rem; color: #64748b; margin: 0;">OpenAI + analiz maliyeti</p>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <h5 style="color: #2563eb; margin-bottom: 8px;">Platform</h5>
                        <div style="font-size: 1.5rem; font-weight: 700; color: #1e293b;">~â‚º0,25</div>
                        <p style="font-size: 0.8rem; color: #64748b; margin: 0;">GeliÅŸtirme + altyapÄ±</p>
                    </div>
                </div>
                <p style="color: #1e293b; font-weight: 600; font-size: 1.1rem; margin: 0;">
                    ğŸ’¡ Bizim maliyetimiz: ~â‚º0,80/mesaj â€¢ Sizin fiyatÄ±nÄ±z: â‚º0,30-0,50/mesaj
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo">ğŸ¤–</span>
                    <span class="brand-text">SatÄ±nalma CoPilot</span>
                </div>
                <p>AI destekli satÄ±nalma asistanÄ±nÄ±z</p>
                <div class="footer-links">
                    <a href="mailto:info@satinalmacopilot.com">ğŸ“§ info@satinalmacopilot.com</a>
                    <a href="tel:+905520710977">ğŸ“ +90 552 071 0977</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
// Smooth scroll to registration form
function scrollToForm() {
    document.getElementById('registration').scrollIntoView({ 
        behavior: 'smooth' 
    });
}

// Form submission handler
document.getElementById('registrationForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const submitButton = this.querySelector('.submit-button');
    const buttonText = submitButton.querySelector('.button-text');
    const loadingText = submitButton.querySelector('.loading-text');
    
    // Show loading state
    submitButton.disabled = true;
    buttonText.style.display = 'none';
    loadingText.style.display = 'inline';
    
    // Get form data - Trial subscription iÃ§in
    const formData = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        contact_phone: document.getElementById('phone').value.trim(),
        company_name: document.getElementById('company').value.trim(),
        position: document.getElementById('position').value.trim() || null,
        registration_source: 'web',
        subscription_status: 'trial', // Trial olmalÄ±
        subscription_plan: 'trial',   // Plan da trial
        trial_start_date: new Date().toISOString(),
        trial_end_date: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString(),
        monthly_quota: 1000,  // Trial iÃ§in 1000 mesaj
        used_quota: 0
    };
    
    // Validate required fields
    if (!formData.name || !formData.email || !formData.contact_phone || !formData.company_name) {
        alert('LÃ¼tfen tÃ¼m zorunlu alanlarÄ± doldurun.');
        resetButton();
        return;
    }
    
    // Validate email format
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(formData.email)) {
        alert('LÃ¼tfen geÃ§erli bir e-posta adresi girin.');
        resetButton();
        return;
    }
    
    // Validate phone format (basic)
    const phoneRegex = /^\+?[\d\s\-\(\)]{10,}$/;
    if (!phoneRegex.test(formData.contact_phone)) {
        alert('LÃ¼tfen geÃ§erli bir telefon numarasÄ± girin. Ã–rn: +90 555 123 45 67');
        resetButton();
        return;
    }
    
    try {
        // Send to Supabase
        const response = await fetch('https://dblepmaqqkudsbmvlqcw.supabase.co/rest/v1/customers', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibGVwbWFxcWt1ZHNibXZscWN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NTUzOTksImV4cCI6MjA3MjAzMTM5OX0.yOPbSl2o2LjHNryW0eIfKeJa5YJgBC94GWzswlclPWg',
                'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibGVwbWFxcWt1ZHNibXZscWN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NTUzOTksImV4cCI6MjA3MjAzMTM5OX0.yOPbSl2o2LjHNryW0eIfKeJa5YJgBC94GWzswlclPWg',
                'Prefer': 'return=representation'
            },
            body: JSON.stringify(formData)
        });
        
        if (!response.ok) {
            const errorText = await response.text();
            console.error('Supabase error response:', errorText);
            console.error('Form data sent:', formData);
            throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);
        }
        
        const result = await response.json();
        console.log('Customer created successfully:', result);
        
        // Redirect to success page
        window.location.href = 'success.html?phone=' + encodeURIComponent(formData.contact_phone);
        
    } catch (error) {
        console.error('Registration error:', error);
        
        // Backup to localStorage
        localStorage.setItem('pendingRegistration', JSON.stringify(formData));
        
        alert('KayÄ±t iÅŸlemi tamamlanamadÄ±. LÃ¼tfen birkaÃ§ dakika sonra tekrar deneyin veya doÄŸrudan WhatsApp\'tan bize ulaÅŸÄ±n: +90 552 071 0977');
        resetButton();
    }
    
    function resetButton() {
        submitButton.disabled = false;
        buttonText.style.display = 'inline';
        loadingText.style.display = 'none';
    }
});

// Phone number formatting
document.getElementById('phone').addEventListener('input', function(e) {
    let value = e.target.value.replace(/[^\d+]/g, '');
    
    // Auto-add +90 for Turkish numbers
    if (value.length > 0 && !value.startsWith('+')) {
        if (value.startsWith('90')) {
            value = '+' + value;
        } else if (value.startsWith('5') && value.length >= 10) {
            value = '+90' + value;
        }
    }
    
    e.target.value = value;
});

// Form validation
document.querySelectorAll('#registrationForm input[required]').forEach(input => {
    input.addEventListener('blur', function() {
        if (!this.value.trim()) {
            this.style.borderColor = '#ef4444';
        } else {
            this.style.borderColor = 'rgba(255,255,255,0.2)';
        }
    });
});

// Navbar scroll effect
window.addEventListener('scroll', function() {
    const navbar = document.querySelector('.navbar');
    if (window.scrollY > 100) {
        navbar.style.background = 'rgba(255, 255, 255, 0.95)';
        navbar.style.backdropFilter = 'blur(10px)';
    } else {
        navbar.style.background = '#fff';
        navbar.style.backdropFilter = 'none';
    }
});

// Analytics tracking
function trackEvent(eventName, properties) {
    console.log('Event tracked:', eventName, properties);
}

document.getElementById('registrationForm').addEventListener('focusin', function(e) {
    trackEvent('form_field_focus', { field: e.target.name });
});

document.querySelector('.cta-button').addEventListener('click', function() {
    trackEvent('cta_button_click', { source: 'hero' });
});

// Page load animations
document.addEventListener('DOMContentLoaded', function() {
    const pendingRegistration = localStorage.getItem('pendingRegistration');
    if (pendingRegistration) {
        console.log('Found pending registration:', JSON.parse(pendingRegistration));
    }
    
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    document.querySelectorAll('.feature-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
});
    </script>
</body>
</html>
